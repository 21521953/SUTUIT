<div class="banner">
    <h3 class="banner-heading">The #1 JOB ABOARD FOR IT COMMUNITY </h3>
    <p>Let's explore our website to find out more opportunities!</p>
</div>

<div class="job-wrapper">
    <div class="job-show">
        <div class="job-search">
            <input class="search-box" type="text" value="" placeholder="Search job title.....">
        </div>
    {{#each company}}
        <div class="job-list" >
            <div class="job-list-item">
                <div class="left-side">
                    <div class="img-container"><img class="company-img" src="{{this.Company_img}}" alt=""></div>
                    <div class="company-info">
                         <h3>{{this.Title}}</h3>
                         <p>{{this.Company}}</p>
                    </div>
                </div>
                <div class="right-container">
                    <ul class="right-side">
                        <li>{{this.Location}}</li>
                        <li>{{this.Salary}}</li>
                    </ul>  
                   <div class="appear">
                     <a class="appear has-link btn-item" href="/home/{{this._id}}">Apply now</a>
                     <a class="appear has-link btn-item">View job</a>
                   </div>
                </div>
            </div>
        </div>
        {{/each}}
        <form action="/" method="GET">
            <div class="listPage">
                <input class="totalpage" type="submit" name="q" style="display:none" value="{{tongSoPage}}">
            </div>
        </form>
    </div>
    <div class="job-filter">
        <h3>filter</h3>
    </div>
</div>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const totalPage = document.querySelector('.totalpage').value;
    const Wrapitem = document.querySelector('.listPage');
  
    function loadPage() {
        for (let i = 1; i <= totalPage; i++) {
            const numberPage = document.createElement('input');
           
            numberPage.setAttribute("type","submit");
            numberPage.setAttribute("value",i);
            numberPage.setAttribute("name","q");
            numberPage.classList.add('listPage-item');
            numberPage.addEventListener('click', function() {
                handlePageClick(i);
            });
            Wrapitem.appendChild(numberPage);  // Append numberPage inside the loop
        }
    }

    function handlePageClick(pageNumber) {
        console.log('Clicked on page:', pageNumber);

    }
            loadPage();
    // Call the loadPage function to generate page buttons

});//end
</script>
